@model JKApi.Data.DTOObject.FranchiseLeaseHistoryPayeeCollection

@{
    ViewBag.Title = "leaseList";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

@section styles{
    <link href="@Url.Content("~//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/admin/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css")" rel="stylesheet" type="text/css" />

    <style type="text/css">
        .jkcustom-page-title {
            font-size: 18px;
            padding: 3px;
            color: #fff !important;
            background: #3598dc !important;
            text-align: center;
            margin-bottom: 10px;
        }

        .tr-HeaderStyle {
            background-color: #336699;
            color: #fff;
        }
    </style>
}



<div class="row">
    <div class="col-md-12">
        <div class="jkcustom-page-title">
            Leases
        </div>
    </div>
    <div class="clearfix"></div>

    <section class="col-md-12 col-md-push-0">
        <div class="portlet light ">
            <div class="portlet-body">
                <table class="table table-condensed" id="leasesList">
                    <thead>
                        <tr class=" tr-HeaderStyle">
                            <th>
                                Date Signed
                            </th>
                            <th>
                                Lease No
                            </th>
                            <th>
                                Description
                            </th>

                            <th>
                                Franchise No
                            </th>
                            <th>
                                Franchise Name
                            </th>
                            <th>Payments</th>
                            <th>Payment Amount</th>
                            <th>Payment Tax</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Request.QueryString["id"] != null && Request.QueryString["id"] == "-1")
                        {
                            if (Model != null && Model.portal_spget_F_LeaseHistory_all_Result != null && Model.portal_spget_F_LeaseHistory_all_Result.Count > 0)
                            {
                                int indexCount = 0;
                                foreach (var item in Model.portal_spget_F_LeaseHistory_all_Result)
                                {
                                    indexCount++;
                                    if (indexCount % 2 == 0)
                                    {

                                        <tr class="odd gradeX">
                                            <td style="text-align:center">
                                                @item.Date_Signed
                                            </td>
                                            <td>
                                                @item.Lease_No
                                            </td>
                                            <td>
                                                @item.Description
                                            </td>
                                            <td style="text-align:center">
                                                @item.Franchise_No
                                            </td>
                                            <td style="text-align:left">
                                                @item.Franchise_Name
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payments
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Amount
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Tax
                                            </td>
                                            <td style="text-align:center">
                                                @item.statusname
                                            </td>
                                        </tr>
                                    }
                                    else
                                    {
                                        <tr class="gradeX">
                                            <td style="text-align:center">
                                                @item.Date_Signed
                                            </td>
                                            <td>
                                                @item.Lease_No
                                            </td>
                                            <td>
                                                @item.Description
                                            </td>
                                            <td style="text-align:center">
                                                @item.Franchise_No
                                            </td>
                                            <td style="text-align:left">
                                                @item.Franchise_Name
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payments
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Amount
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Tax
                                            </td>
                                            <td style="text-align:center">
                                                @item.statusname
                                            </td>
                                        </tr>
                                    }
                                }
                                <tr class="gradeX"> 
                                    <td colspan="6" style="text-align:center">
                                        Total
                                    </td>
                                    <td style="text-align:center">
                                        @if(Model != null && !string.IsNullOrEmpty(Model.PaymentAmount))
                                        {
                                            @Html.Raw(Model.PaymentAmount)
                                        }
                                    </td>
                                    <td style="text-align:center">
                                        @if (Model != null && !string.IsNullOrEmpty(Model.PaymentTax))
                                        {
                                            @Html.Raw(Model.PaymentTax)
                                        }
                                    </td>
                                    <td style="text-align:center"> </td>
                                </tr>
                            }
                        }
                        else
                        {
                            if (Model != null && Model.portal_spget_F_LeaseHistory_all_Result != null && Model.portal_spget_F_LeaseHistory_Specific_Result.Count > 0)
                            {
                                int indexCount = 0;
                                foreach (var item in Model.portal_spget_F_LeaseHistory_Specific_Result)
                                {
                                    indexCount++;
                                    if (indexCount % 2 == 0)
                                    {

                                            <tr class="odd gradeX">
                                                <td style="text-align:center">
                                                    @item.Date_Signed
                                                </td>
                                                <td>
                                                    @item.Lease_No
                                                </td>
                                                <td>
                                                    @item.Description
                                                </td>
                                                <td style="text-align:center">
                                                    @item.Franchise_No
                                                </td>
                                                <td style="text-align:left">
                                                    @item.Franchise_Name
                                                </td>
                                                <td style="text-align:center">
                                                    @item.Payments
                                                </td>
                                                <td style="text-align:center">
                                                    @item.Payment_Amount
                                                </td>
                                                <td style="text-align:center">
                                                    @item.Payment_Tax
                                                </td>
                                                <td style="text-align:center">
                                                    @item.statusname
                                                </td>
                                            </tr>
                                    }
                                    else
                                    {
                                        <tr class="gradeX">
                                            <td style="text-align:center">
                                                @item.Date_Signed
                                            </td>
                                            <td>
                                                @item.Lease_No
                                            </td>
                                            <td>
                                                @item.Description
                                            </td>
                                            <td style="text-align:center">
                                                @item.Franchise_No
                                            </td>
                                            <td style="text-align:left">
                                                @item.Franchise_Name
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payments
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Amount
                                            </td>
                                            <td style="text-align:center">
                                                @item.Payment_Tax
                                            </td>
                                            <td style="text-align:center">
                                                @item.statusname
                                            </td>
                                        </tr>
                                    }
                                }

                                <tr style="background-color:blue; color:aliceblue" class="gradeX">
                                    <td colspan="6" style="text-align:center">
                                        Total
                                    </td>
                                    <td style="text-align:center">
                                        $
                                        @if (Model != null && !string.IsNullOrEmpty(Model.PaymentAmount))
                                        {
                                             @Html.Raw(Model.PaymentAmount)
                                        }
                                        else
                                        {
                                            <span>0.00</span>
                                        }
                                    </td>
                                    <td style="text-align:center">
                                        $
                                        @if (Model != null && !string.IsNullOrEmpty(Model.PaymentTax))
                                        {
                                            @Html.Raw(Model.PaymentTax)
                                        }
                                        else
                                        {
                                            <span>0.00</span>
                                        }
                                    </td>
                                    <td style="text-align:center"> </td>
                                </tr>
                            }
                        }


                        @*<tr class="odd gradeX">
                            <td style="text-align:center">
                                30-12-1899
                            </td>
                            <td>
                                70-2117
                            </td>
                            <td>
                                BACK PACK VAC
                            </td>
                            <td style="text-align:center">
                                701ZZ9
                            </td>
                            <td style="text-align:left">
                                JANI KING BUFFALO-IN HOUSE
                            </td>
                            <td style="text-align:center">
                                17 of 16
                            </td>
                            <td style="text-align:center">
                                $ 26.23
                            </td>
                            <td style="text-align:center">
                                $ 2.30
                            </td>
                            <td style="text-align:center">
                                Paid
                            </td>
                        </tr>
                        <tr class="odd gradeX">
                            <td style="text-align:center">
                                15-07-1997
                            </td>
                            <td>
                                70-2099
                            </td>
                            <td>
                                20" ORBITAL SCRUBBER
                            </td>
                            <td style="text-align:center">
                                701011
                            </td>
                            <td style="text-align:left">
                                KEVIN M. BURNS
                            </td>
                            <td style="text-align:center">
                                25 of 28
                            </td>
                            <td style="text-align:center">
                                $ 122.56
                            </td>
                            <td style="text-align:center">
                                $ 10.72
                            </td>
                            <td style="text-align:center">
                                Paid
                            </td>
                        </tr>*@

                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>


@section pageplugins{
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/datatable.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/datatables.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/app.min.js")" type="text/javascript" )"></script>
    <script src="@Url.Content("~/Content/admin/assets/pages/scripts/table-datatables-managed.min.js")" type="text/javascript"></script>
}

@section scripts{
    <script src="@Url.Content("~/Content/admin/assets/pages/scripts/components-date-time-pickers.min.js")" type="text/javascript"></script>

    <script src="@Url.Content("//code.jquery.com/jquery-1.12.4.js")" type="text/javascript"></script>
    <script src="@Url.Content("https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("https://cdn.datatables.net/responsive/2.1.1/js/dataTables.responsive.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("https://cdn.datatables.net/responsive/2.1.1/js/responsive.bootstrap.min.js")" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
         //   $('#leasesList').DataTable();
        });
    </script>
}




