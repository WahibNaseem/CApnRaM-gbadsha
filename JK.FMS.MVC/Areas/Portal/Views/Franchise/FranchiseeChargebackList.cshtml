
@{
    ViewBag.Title = "FranchiseeChargebackList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #frdestributionTable table > thead > tr > td, table > tbody > tr > td {
        padding: 0px !important;
    }
</style>
<div class="custom-form portlet light">
    <div class="headerbox">
        <div class="row">
            <div class="col-md-4">
                Franchisee Chargeback
            </div>
        </div>
    </div>
    <div class="portlet-body form">
        <div class="form-body">
            <div class="form-group">
                <div class="row">
                    <div class="col-md-12" style="padding-top: 6px;">
                        <div class="col-md-2 text-right">
                            Filter By<span style="color:#000000;">&nbsp;:</span>
                        </div>
                        <div class="col-md-2">
                            @Html.DropDownList("optionList", (SelectList)ViewBag.OptionList, new { @class = "form-control input-sm", @id = "select_optionList" })
                        </div>
                        <div class="col-md-1 text-right" style="margin-left: -32px;">
                            From
                        </div>
                        <div class="col-md-2">
                            <div class="input-group date" data-date-format="mm/dd/yyyy">
                                <input type="text" name="name" value="" class="form-control input-sm date-picker" id="dtpfrom" />
                                <span class="input-group-btn">
                                    <button class="btn default" type="button">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-1 text-center" style="margin-left: -30px;">
                            To
                        </div>
                        <div class="col-md-2" style="margin-left: -30px;">
                            <div class="input-group date" data-date-format="mm/dd/yyyy">
                                <input type="text" name="name" value="" class="form-control input-sm date-picker" id="dtpto" />
                                <span class="input-group-btn">
                                    <button class="btn default" type="button">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr style="margin-top: 1px;margin-bottom: 8px;" />
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover order-column" id="FranchiseeChargebackList">
                            <thead>
                                <tr>
                                    <th style="width:5px;text-align:center;">
                                        <input type="checkbox" name="name" value="" id="chkall" />
                                    </th>
                                    <th style="width:80px;text-align:center;">
                                        Date
                                    </th>
                                    <th style="width:70px;text-align:center;">
                                        Invoice No.
                                    </th>
                                    <th style="width:180px;text-align:center;">
                                        Customer Name
                                    </th>
                                    <th style="text-align:center;width:100px;">
                                        Franchisee No.
                                    </th>
                                    <th style="text-align:center;width:70px;">
                                        Franchisee Name
                                    </th>
                                    <th style="text-align:center;width:70px;">
                                        Amount
                                    </th>
                                    <th style="text-align:center;width:70px;">
                                        Chargeback Amount
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        09170700190
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        Paper Recycle Inc
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        701ZZ0
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        James LLC
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $1000.00
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $890.50
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        09170701145
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        Emily's Cafe
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        70045
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        Edwin 4 JK LLC
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $1450.75
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $140.25
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        09170700012
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        Construction Express
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        710780
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        Santiago LLC
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $8640.89
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $2050.71
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        08170700256
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        South Valley Tire Co.
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        79185
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        Jackson & Son LLC
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $745.61
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $235.48
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        08170712000
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        Sports-Wear Inc
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        721056
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        Martin Lee
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $4132.50
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $2707.50
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:25px;text-align:center;">
                                        <input type="checkbox" name="name" value="" />
                                    </td>
                                    <td style="width:50px;text-align:center;">
                                        09/10/2017
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        08170700111
                                    </td>
                                    <td style="text-align:center;width:50px;">
                                        The Shoe Dept. Inc
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        875441
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        Martin Lee
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $3540.50
                                    </td>
                                    <td style="text-align:center;width:80px;">
                                        $3150.25
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section pageplugins{
    @if (Request.IsSecureConnection)
    {
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js" type="text/javascript"></script>
    }
    else
    {
        <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js" type="text/javascript"></script>
    }
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/select2/js/select2.full.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-validation/js/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-validation/js/additional-methods.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/bootstrap-wizard/jquery.bootstrap.wizard.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/datatable.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/datatables.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/app.min.js")" type="text/javascript" )"></script>
    <script src="@Url.Content("~/Content/admin/assets/pages/scripts/table-datatables-managed.min.js")" type="text/javascript"></script>
}
@section scripts{
    <script>
        jQuery(document).ready(function () {
            thisweek();
            //$('#FranchiseeChargebackList').dataTable({
            //    "bProcessing": true,
            //    "aLengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
            //    "pageLength": 200, // default records per page
            //    "dom": "<'table-responsive't>"// '<"top">rt<"bottom"lp><"clear">'
            //    //"dom": "<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r><'table-responsive't><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>", // datatable layout
            //});

            $("#select_optionList").change(function () {
                var value = this.value;
                if (value == 3) {
                    var d = new Date();
                    var month = d.getMonth() + 1;
                    var day = d.getDate();
                    var year = d.getFullYear();
                    year = year.toString().substr();
                    $("#dtpfrom").val(month + '/' + 01 + '/' + year);
                    $("#dtpto").val(month + '/' + 30 + '/' + year)
                }
                if (value == 1) {
                    thisweek();
                }
            });

            var table = $('#FranchiseeChargebackList');
            table.DataTable({
                "pageLength": 10, // default records per page
                "dom": "<'headerboxcustom list'<'row'<'col-md-1'l><'col-md-4'f><'#divrightddl.col-md-5 pull-right text-center'>>><'table-responsive't><'bottom'ip><'clear'>",
                "bInfo": false,
                "bStateSave": false,
                "fnStateSaveParams": function (oSettings, sValue) {
                    $("#FranchiseeChargebackList tr.filter .form-control").each(function () {
                        sValue[$(this).attr('name')] = $(this).val();
                    });

                    return sValue;
                },

            });

            //var table = $('#FranchiseeChargebackList').DataTable();


            //$('#chkall').click(function () {
            //    $(':checkbox', table.rows().nodes()).prop('checked', this.checked);
            //});
        });

        function thisweek() {
            var curr = new Date(); // get current date
            var first = curr.getDate() - curr.getDay(); // First day is the day of the month - the day of the week
            var last = first + 6; // last day is the first day + 6
            var firstday = new Date(curr.setDate(first));
            var lastday = new Date(curr.setDate(last));
            var day = firstday.getDate();
            var month = firstday.getMonth() + 1;
            var year = firstday.getFullYear();
            year = year.toString().substr();
            $("#dtpfrom").val(month + '/' + day + '/' + year);
            var daylast = lastday.getDate();
            var monthlast = lastday.getMonth() + 1;
            var yearlast = lastday.getFullYear();
            yearlast = yearlast.toString().substr();
            $("#dtpto").val(monthlast + '/' + daylast + '/' + yearlast)
        };
    </script>
}