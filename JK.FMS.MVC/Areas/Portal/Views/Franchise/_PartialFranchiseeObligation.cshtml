@model IEnumerable<JKViewModels.Franchisee.FranchiseeObligationViewModel>
<style>
    #tblObligation thead th,
    #tblObligation thead td {
        padding: 3px 5px !important;
        font-size: 11px !important;
        background-color: #95A5A6 !important;
        color: #fff;
    }

    #tblObligation tbody td {
        padding: 3px 5px !important;
        font-size: 11px !important;
    }

    #tblObligation thead th {
        vertical-align: middle;
        font-weight: bold;
    }
</style>
<div class="form form-horizontal" id="divNewTransaction">
    <div class="custom-form portlet light">
        <div class="headerbox">
            <div class="row">
                <div class="col-md-12 text-center">
                    Obligation Report
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="margin-top: -12px !important;margin-right: 12px !important;"></button>
            </div>
        </div>
        <div class="portlet-body form">
            <div class="form-body">
                <div class="form-group" style="border:1px solid #999999;">
                    <div class="form-group">
                        <div class="col-md-2 control-label" style="padding-top: 0px;">
                            Franchisee No.:
                        </div>
                        <div class="col-md-3">
                            <span id="spnFranchiseeNumberObl"></span>
                        </div>
                        <div class="col-md-offset-2 col-md-2 control-label" style="padding-top: 0px;">
                            Address:
                        </div>
                        <div class="col-md-3">
                            <span id="spnFranchiseeAddressObl"></span>
                        </div>
                    </div>
                    <div class="form-group">

                        <div class="col-md-2 control-label" style="padding-top: 0px;">
                            Franchisee Name:
                        </div>
                        <div class="col-md-3">
                            <span id="spnFranchiseeNameObl"></span>
                        </div>
                        <div class="col-md-offset-4 col-md-3">
                            <span id="spnFranchiseeCityStatePincodeObl"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group" style="border:1px solid #3598dc;padding-left: 0px;padding-right: 0px;">
                    <div class="form-group">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover order-column dataTable no-footer" id="tblObligation" role="grid" aria-describedby="tblObligation">
                                <thead>
                                    <tr role="row" class="heading">
                                        <th style="text-align:center;">
                                            Status
                                        </th>
                                        <th style="text-align:center;">
                                            Cust No
                                        </th>
                                        <th style="text-align:center;">
                                            Offer Date
                                        </th>
                                        <th style="text-align:center;">
                                            Days Kept
                                        </th>
                                        <th style="width:200px;text-align:center;">
                                            Customer Name
                                        </th>
                                        <th style="text-align:center;">
                                            Sales rep
                                        </th>
                                        <th style="text-align:center;">
                                            Contract  Bill
                                        </th>
                                        <th style="text-align:center;">
                                            Offered Amt.
                                        </th>
                                        <th style="text-align:center;">
                                            Legal Obl Bal
                                        </th>
                                        <th style="text-align:center;">
                                            Other Obl Bal
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.Count() > 0)
                                    {

                                        foreach (var item in Model)
                                        {
                                            <tr>
                                                <td style="text-align:center;">@item.Status</td>
                                                <td style="text-align:center;">@item.CustomerNo</td>
                                                <td style="text-align:center;">@item.OfferedDate.ToShortDateString()</td>
                                                <td style="text-align:center;">@item.DaysKept</td>
                                                <td style="text-align:center;">@item.CustomerName</td>
                                                <td style="text-align:center;">@item.SalesRep</td>
                                                <td style="text-align:right;">$ @string.Format("{0:n}", item.ContractAmount)</td>
                                                <td style="text-align:right;">$ @string.Format("{0:n}", @item.OriginalContractAmount)</td>
                                                <td style="text-align:right;">$ @string.Format("{0:n}", @item.LegalBalanceAmount)</td>
                                                <td style="text-align:right;">$ @string.Format("{0:n}", @item.OtherBalanceAmount)</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="clearfix"></div>
@section pageplugins{
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-ui/jquery-ui.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-validation/js/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/datatable.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/datatables.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/scripts/app.min.js")" type="text/javascript" )"></script>
    <script src="@Url.Content("~/Content/admin/assets/pages/scripts/table-datatables-managed.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/moment.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/admin/assets/global/plugins/bootstrap-typeahead/bootstrap3-typeahead.min.js")" type="text/javascript"></script>
}
<script>
    $('#tblObligation').dataTable({
        "bProcessing": false,
        "aLengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
        "pageLength": 200,
        "dom": "<'table-responsive't>"
    });
    function formatCurrency(total, dollar) {
        dollar = (dollar == true ? true : false);
        var neg = false;
        if (total < 0) {
            neg = true;
            total = Math.abs(total);
        }
        return (neg ? "-" : '') + (dollar ? "$" : "") + parseFloat(total, 10).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,").toString();
    }
</script>
